<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Top Artists</title>
  </head>
  <body>
    <h1>Top Artists</h1>
    <button id="shortTerm">Short Term</button>
    <button id="mediumTerm">Medium Term</button>
    <button id="longTerm">Long Term</button>
    <ul id="artistList"></ul>
    <a href="/stats">Back to Stats</a>

    <script>
      document.addEventListener("DOMContentLoaded", function () {
        const topArtistsData = JSON.parse(
          '<%- JSON.stringify(topArtists).replace(/</g, "\\\\u003c") %>'
        );
        const topArtistsContainer = document.querySelector(
          ".top-artists-container"
        );
        const shortTermButton = document.querySelector("#short-term");
        const mediumTermButton = document.querySelector("#medium-term");
        const longTermButton = document.querySelector("#long-term");

        function displayTopArtists(artists) {
          topArtistsContainer.innerHTML = "";
          artists.forEach((artist) => {
            const artistElement = document.createElement("div");
            artistElement.textContent = artist.name;
            topArtistsContainer.appendChild(artistElement);
          });
        }

        displayTopArtists(topArtistsData);

        shortTermButton.addEventListener("click", () => {
          displayTopArtists(topArtistsData);
        });

        mediumTermButton.addEventListener("click", () => {
          // Implement medium-term logic
        });

        longTermButton.addEventListener("click", () => {
          // Implement long-term logic
        });
      });
    </script>
  </body>
</html>
